{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BS23-DESKTOP-00038/Projects/chatbot/chatbotInventoryPlatform/frontend/lib/auth.ts"],"sourcesContent":["// lib/auth.ts\nexport interface User {\n  id: string\n  email: string\n  role: string\n  vendor_domain?: string\n}\n\nexport const AUTH_STORAGE_KEYS = {\n  TOKEN: \"token\",\n  USER: \"user\",\n} as const\n\nexport function saveAuthData(token: string, role: string, email: string, vendor_domain?: string) {\n  if (typeof window === \"undefined\") return\n\n  localStorage.setItem(AUTH_STORAGE_KEYS.TOKEN, token)\n  const user: User = { id: \"\", email, role, vendor_domain }\n  localStorage.setItem(AUTH_STORAGE_KEYS.USER, JSON.stringify(user))\n}\n\nexport function getAuthToken(): string | null {\n  if (typeof window === \"undefined\") return null\n  return localStorage.getItem(AUTH_STORAGE_KEYS.TOKEN)\n}\n\nexport function getAuthUser(): User | null {\n  if (typeof window === \"undefined\") return null\n  const userStr = localStorage.getItem(AUTH_STORAGE_KEYS.USER)\n  if (!userStr) return null\n  try { return JSON.parse(userStr) } catch { return null }\n}\n\nexport function clearAuthData(): void {\n  if (typeof window === \"undefined\") return\n  localStorage.removeItem(AUTH_STORAGE_KEYS.TOKEN)\n  localStorage.removeItem(AUTH_STORAGE_KEYS.USER)\n}\n\nexport function isAuthenticated(): boolean {\n  return !!getAuthToken()\n}\n"],"names":[],"mappings":"AAAA,cAAc;;;;;;;;;;;;;;;AAQP,MAAM,oBAAoB;IAC/B,OAAO;IACP,MAAM;AACR;AAEO,SAAS,aAAa,KAAa,EAAE,IAAY,EAAE,KAAa,EAAE,aAAsB;IAC7F;;IAEA,aAAa,OAAO,CAAC,kBAAkB,KAAK,EAAE;IAC9C,MAAM,OAAa;QAAE,IAAI;QAAI;QAAO;QAAM;IAAc;IACxD,aAAa,OAAO,CAAC,kBAAkB,IAAI,EAAE,KAAK,SAAS,CAAC;AAC9D;AAEO,SAAS;IACd;;IACA,OAAO,aAAa,OAAO,CAAC,kBAAkB,KAAK;AACrD;AAEO,SAAS;IACd;;IACA,MAAM,UAAU,aAAa,OAAO,CAAC,kBAAkB,IAAI;IAC3D,IAAI,CAAC,SAAS,OAAO;IACrB,IAAI;QAAE,OAAO,KAAK,KAAK,CAAC;IAAS,EAAE,OAAM;QAAE,OAAO;IAAK;AACzD;AAEO,SAAS;IACd;;IACA,aAAa,UAAU,CAAC,kBAAkB,KAAK;IAC/C,aAAa,UAAU,CAAC,kBAAkB,IAAI;AAChD;AAEO,SAAS;IACd,OAAO,CAAC,CAAC;AACX"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BS23-DESKTOP-00038/Projects/chatbot/chatbotInventoryPlatform/frontend/lib/api.ts"],"sourcesContent":["import { getAuthToken } from \"./auth\"\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || \"http://127.0.0.1:9000\"\n\nexport interface LoginCredentials {\n  email: string\n  password: string\n  role: \"admin\" | \"vendor\" | \"user\"\n  vendor_domain?: string\n}\n\nexport interface AuthResponse {\n  access_token: string\n  token_type: string\n}\n\nconst getAuthHeaders = (): HeadersInit => {\n  const token = getAuthToken()\n  return {\n    \"Content-Type\": \"application/json\",\n    ...(token && { Authorization: `Bearer ${token}` }),\n  }\n}\n\nconst handleResponse = async (response: Response) => {\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({ detail: \"An error occurred\" }))\n    throw new Error(error.detail || `HTTP ${response.status}`)\n  }\n  return response.json()\n}\n\nconst fetchAPI = async (endpoint: string, options: RequestInit = {}) => {\n  const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n    ...options,\n    headers: { ...getAuthHeaders(), ...options.headers },\n  })\n  return handleResponse(response)\n}\n\nexport const api = {\n  login: async (credentials: LoginCredentials): Promise<AuthResponse> => {\n    let endpoint: string\n    switch (credentials.role) {\n      case \"admin\":\n        endpoint = `/auth/admin/token`\n        break\n      case \"user\":\n        endpoint = `/auth/user/token`\n        break\n      case \"vendor\":\n        if (!credentials.vendor_domain) throw new Error(\"Vendor domain is required\")\n        endpoint = `/auth/vendor/${credentials.vendor_domain}/token`\n        break\n      default:\n        throw new Error(\"Invalid role\")\n    }\n\n    const formData = new URLSearchParams()\n    formData.append(\"username\", credentials.email)\n    formData.append(\"password\", credentials.password)\n\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n      body: formData.toString(),\n    })\n\n    return handleResponse(response)\n  },\n\n  // Admin endpoints\n  createAdmin: (data: any) => fetchAPI(\"/admins/create\", { method: \"POST\", body: JSON.stringify(data) }),\n  getAdmin: (adminId: number) => fetchAPI(`/admins/me/${adminId}`),\n  updateAdmin: (adminId: number, data: any) =>\n    fetchAPI(`/admins/edit/${adminId}`, { method: \"PUT\", body: JSON.stringify(data) }),\n  changeAdminPassword: (data: any) =>\n    fetchAPI(\"/admins/change-password\", { method: \"PUT\", body: JSON.stringify(data) }),\n  updateVendorStatus: (vendorId: number, data: any) =>\n    fetchAPI(`/admins/update-vendors/${vendorId}`, { method: \"PUT\", body: JSON.stringify(data) }),\n  getAdminDocuments: () => fetchAPI(\"/admins/documents\"),\n  duplicateChatbot: (chatbotId: number) => fetchAPI(`/admins/chatbots/duplicate/${chatbotId}`, { method: \"POST\" }),\n  getMostUsersByVendors: () => fetchAPI(\"/admins/most-users-by-vendors\"),\n  getMostChatbotsByVendors: () => fetchAPI(\"/admins/most-chatbots-by-vendors\"),\n  getMostUsedChatbot: () => fetchAPI(\"/admins/most-used-chatbot\"),\n  getTotalTokensByVendor: (vendorId: number) => fetchAPI(`/admins/total-tokens/${vendorId}`),\n\n  // Vendor endpoints\n  createVendor: (data: any) => fetchAPI(\"/vendors/create\", { method: \"POST\", body: JSON.stringify(data) }),\n  getAllVendors: () => fetchAPI(\"/vendors/all-vendors\"),\n  getVendor: (vendorId: number) => fetchAPI(`/vendors/${vendorId}`),\n  updateVendor: (vendorId: number, data: any) =>\n    fetchAPI(`/vendors/update/${vendorId}`, { method: \"PUT\", body: JSON.stringify(data) }),\n  getVendorTopChatbotsByMessages: () => fetchAPI(\"/vendors/top-chatbots/messages\"),\n  getVendorTopChatbotsByUsers: () => fetchAPI(\"/vendors/top-chatbots/users\"),\n  getVendorDailyMessages: () => fetchAPI(\"/vendors/daily/messages\"),\n  getVendorDailyUniqueUsers: () => fetchAPI(\"/vendors/daily/unique-users\"),\n  getVendorUserTokensLast7Days: (userId: number) => fetchAPI(`/vendors/user/${userId}/tokens-last7`),\n  getVendorUserTokensTotal: (userId: number) => fetchAPI(`/vendors/user/${userId}/tokens-total`),\n  getVendorUserChatbotMessagesCount: (userId: number, chatbotId: number) =>\n    fetchAPI(`/vendors/user/${userId}/chatbot/${chatbotId}/messages-count`),\n\n  // User endpoints\n  createUser: (data: any) => fetchAPI(\"/users/create\", { method: \"POST\", body: JSON.stringify(data) }),\n  getUser: (userId: number) => fetchAPI(`/users/${userId}`),\n  getVendorUsers: () => fetchAPI(\"/users/\"),\n  updateUser: (userId: number, data: any) =>\n    fetchAPI(`/users/update/${userId}`, { method: \"PUT\", body: JSON.stringify(data) }),\n  deleteUser: (userId: number) => fetchAPI(`/users/${userId}`, { method: \"DELETE\" }),\n\n  // Chatbot endpoints\n  createChatbot: (data: any) => fetchAPI(\"/chatbots/\", { method: \"POST\", body: JSON.stringify(data) }),\n  getVendorChatbots: () => fetchAPI(\"/chatbots/\"),\n  getAllChatbots: () => fetchAPI(\"/chatbots/\"),\n  getChatbot: (chatbotId: number) => fetchAPI(`/chatbots/${chatbotId}`),\n  updateChatbot: (chatbotId: number, data: any) =>\n    fetchAPI(`/chatbots/${chatbotId}`, { method: \"PUT\", body: JSON.stringify(data) }),\n  deleteChatbot: (chatbotId: number) => fetchAPI(`/chatbots/${chatbotId}`, { method: \"DELETE\" }),\n\n  askChatbot: async (chatbotId: number, question: string) => {\n    const response = await fetch(`${API_BASE_URL}/chatbots/${chatbotId}/ask`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ question }),\n    })\n    return response.json()\n  },\n\n  chatWithChatbot: (chatbotId: number, data: { question: string; session_id?: string }) =>\n    fetchAPI(`/chatbots/${chatbotId}/chat`, { method: \"POST\", body: JSON.stringify(data) }),\n\n  getGlobalTopChatbots: () => fetchAPI(\"/chatbots/global/top-chatbots\"),\n\n  // Conversation endpoints\n  getUserConversations: () => fetchAPI(\"/conversations/\"),\n  getUserChatbotConversations: (chatbotId: number) => fetchAPI(`/conversations/${chatbotId}`),\n  deleteConversation: (conversationId: number) => fetchAPI(`/conversations/${conversationId}`, { method: \"DELETE\" }),\n\n  // Document endpoints\n  previewDocument: (formData: FormData) => {\n    const token = localStorage.getItem(\"token\")\n    return fetch(`${API_BASE_URL}/documents/preview`, {\n      method: \"POST\",\n      headers: { Authorization: `Bearer ${token}` },\n      body: formData,\n    }).then((res) => res.json())\n  },\n\n  saveDocument: (formData: FormData) => {\n    const token = localStorage.getItem(\"token\")\n    return fetch(`${API_BASE_URL}/documents/add`, {\n      method: \"POST\",\n      headers: { Authorization: `Bearer ${token}` },\n      body: formData,\n    }).then((res) => res.json())\n  },\n\n  getDocuments: () => fetchAPI(\"/documents/\"),\n  getDocument: (documentId: number) => fetchAPI(`/documents/${documentId}`),\n  updateDocument: (documentId: number, data: any) =>\n    fetchAPI(`/documents/${documentId}`, { method: \"PUT\", body: JSON.stringify(data) }),\n  deleteDocument: (documentId: number) => fetchAPI(`/documents/${documentId}`, { method: \"DELETE\" }),\n  createKnowledgeBase: (documentId: number) => fetchAPI(`/documents/${documentId}/knowledge-base`, { method: \"POST\" }),\n\n  // LLM endpoints\n  createLLM: (data: any) => fetchAPI(\"/llms/\", { method: \"POST\", body: JSON.stringify(data) }),\n  getLLMs: () => fetchAPI(\"/llms/\"),\n  getLLM: (llmId: number) => fetchAPI(`/llms/${llmId}`),\n  updateLLM: (llmId: number, data: any) => fetchAPI(`/llms/${llmId}`, { method: \"PUT\", body: JSON.stringify(data) }),\n  deleteLLM: (llmId: number) => fetchAPI(`/llms/${llmId}`, { method: \"DELETE\" }),\n\n  // Embedding endpoints\n  createEmbedding: (data: any) => fetchAPI(\"/embeddings/create\", { method: \"POST\", body: JSON.stringify(data) }),\n  getEmbeddings: () => fetchAPI(\"/embeddings/\"),\n  getEmbedding: (embeddingId: number) => fetchAPI(`/embeddings/${embeddingId}`),\n  updateEmbedding: (embeddingId: number, data: any) =>\n    fetchAPI(`/embeddings/update/${embeddingId}`, { method: \"PUT\", body: JSON.stringify(data) }),\n  deleteEmbedding: (embeddingId: number) => fetchAPI(`/embeddings/delete/${embeddingId}`, { method: \"DELETE\" }),\n\n  // API Keys endpoints\n  createAPIKey: (data: any) => fetchAPI(\"/api-keys/\", { method: \"POST\", body: JSON.stringify(data) }),\n  getAPIKeys: () => fetchAPI(\"/api-keys/\"),\n  getAPIKey: (keyId: number) => fetchAPI(`/api-keys/${keyId}`),\n  updateAPIKey: (keyId: number, data: any) =>\n    fetchAPI(`/api-keys/${keyId}`, { method: \"PUT\", body: JSON.stringify(data) }),\n  deleteAPIKey: (keyId: number) => fetchAPI(`/api-keys/${keyId}`, { method: \"DELETE\" }),\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BS23-DESKTOP-00038/Projects/chatbot/chatbotInventoryPlatform/frontend/app/login/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { api } from \"@/lib/api\"\nimport { saveAuthData } from \"@/lib/auth\"\n\nexport function LoginForm() {\n  const router = useRouter()\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [role, setRole] = useState<\"vendor\" | \"admin\" | \"user\">(\"vendor\")\n  const [vendorDomain, setVendorDomain] = useState(\"\")\n  const [error, setError] = useState(\"\")\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError(\"\")\n\n    try {\n      const res = await api.login({\n        email,\n        password,\n        role,\n        vendor_domain: role === \"vendor\" ? vendorDomain : undefined,\n      })\n\n      // Save token and user info\n      saveAuthData(res.access_token, role, email, role === \"vendor\" ? vendorDomain : undefined)\n\n      // Redirect to dashboard based on role\n      if (role === \"vendor\") router.push(\"/vendor/dashboard\")\n      else if (role === \"admin\") router.push(\"/admin/dashboard\")\n      else router.push(\"/user/dashboard\")\n    } catch (err: any) {\n      setError(err.message || \"Login failed\")\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4 p-6 border rounded bg-white\">\n      <h2 className=\"text-xl font-bold text-center\">Login</h2>\n\n      <select\n        value={role}\n        onChange={(e) => setRole(e.target.value as \"vendor\" | \"admin\" | \"user\")}\n        className=\"w-full p-2 border rounded\"\n      >\n        <option value=\"vendor\">Vendor</option>\n        <option value=\"admin\">Admin</option>\n        <option value=\"user\">User</option>\n      </select>\n\n      {role === \"vendor\" && (\n        <input\n          type=\"text\"\n          placeholder=\"Vendor Domain\"\n          value={vendorDomain}\n          onChange={(e) => setVendorDomain(e.target.value)}\n          className=\"w-full p-2 border rounded\"\n          required\n        />\n      )}\n\n      <input\n        type=\"email\"\n        placeholder=\"Email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        className=\"w-full p-2 border rounded\"\n        required\n      />\n      <input\n        type=\"password\"\n        placeholder=\"Password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n        className=\"w-full p-2 border rounded\"\n        required\n      />\n\n      {error && <p className=\"text-red-500 text-sm\">{error}</p>}\n\n      <button type=\"submit\" className=\"w-full p-2 bg-blue-600 text-white rounded\">\n        Login\n      </button>\n    </form>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOO,SAAS;;IACd,MAAM,SAAS,IAAA,8JAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qLAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,qLAAQ,EAAC;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,qLAAQ,EAA8B;IAC9D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,qLAAQ,EAAC;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qLAAQ,EAAC;IAEnC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QAET,IAAI;YACF,MAAM,MAAM,MAAM,gIAAG,CAAC,KAAK,CAAC;gBAC1B;gBACA;gBACA;gBACA,eAAe,SAAS,WAAW,eAAe;YACpD;YAEA,2BAA2B;YAC3B,IAAA,0IAAY,EAAC,IAAI,YAAY,EAAE,MAAM,OAAO,SAAS,WAAW,eAAe;YAE/E,sCAAsC;YACtC,IAAI,SAAS,UAAU,OAAO,IAAI,CAAC;iBAC9B,IAAI,SAAS,SAAS,OAAO,IAAI,CAAC;iBAClC,OAAO,IAAI,CAAC;QACnB,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO,IAAI;QAC1B;IACF;IAEA,qBACE,yMAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,yMAAC;gBAAG,WAAU;0BAAgC;;;;;;0BAE9C,yMAAC;gBACC,OAAO;gBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;gBACvC,WAAU;;kCAEV,yMAAC;wBAAO,OAAM;kCAAS;;;;;;kCACvB,yMAAC;wBAAO,OAAM;kCAAQ;;;;;;kCACtB,yMAAC;wBAAO,OAAM;kCAAO;;;;;;;;;;;;YAGtB,SAAS,0BACR,yMAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;gBAC/C,WAAU;gBACV,QAAQ;;;;;;0BAIZ,yMAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,WAAU;gBACV,QAAQ;;;;;;0BAEV,yMAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gBAC3C,WAAU;gBACV,QAAQ;;;;;;YAGT,uBAAS,yMAAC;gBAAE,WAAU;0BAAwB;;;;;;0BAE/C,yMAAC;gBAAO,MAAK;gBAAS,WAAU;0BAA4C;;;;;;;;;;;;AAKlF;GAjFgB;;QACC,8JAAS;;;KADV"}}]
}